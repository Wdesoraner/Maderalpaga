<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Formulaire de devis</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.debug.js" integrity="sha384-NaWTHo/8YCBYJ59830LTz/P4aQZK1sS0SneOgAvhsIl3zBu8r9RevNg5lHCHAuQ/" crossorigin="anonymous"></script>

    <link href="css/formQuotation.css" rel="stylesheet" />
    <link href="css/Bootstrap/bootstrap.min.css" rel="stylesheet" />
    <script src="scripts/Bootstrap/jquery-3.0.0.js"></script>
    <script src="scripts/HTML2Canvas.js"></script>
    <script src="scripts/Bootstrap/jquery-3.0.0.min.js"></script>
    <script src="scripts/Bootstrap/bootstrap.min.js"></script>
    <script src="scripts/formQuotation.js"></script>

</head>
<body>

    <div class="row mt-3" >

        <div class="col-12">

            <div class="container wizard-quotation">

                <div class="progress">
                    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="1" aria-valuemin="1" aria-valuemax="4" style="width: 20%;">
                        Étape 1 sur 4
                    </div>
                </div>

                <div class="navbar card-header-pills">
                    <div class="navbar-inner">
                        <ul class="nav nav-tabs">
                            <!--<li class="nav-items"><a href="#step1" data-toggle="tab" data-step="1" class="nav-link">Client</a></li>-->
                            <li class="nav-items"><a href="#step1" data-toggle="tab" style="color:rgba(100, 155, 63, 1)" data-step="1" class="nav-link">Informations Devis</a></li>
                            <li class="nav-items"><a href="#step2" data-toggle="tab" style="color:rgba(100, 155, 63, 1)" data-step="2" class="nav-link">Modules</a></li>
                            <li class="nav-items"><a href="#step3" data-toggle="tab" style="color:rgba(100, 155, 63, 1)" data-step="3" class="nav-link">Devis</a></li>
                            <li class="nav-items"><a href="#step4" data-toggle="tab" style="color:rgba(100, 155, 63, 1)" data-step="4" class="nav-link">Hierarchie des composants</a></li>
                        </ul>
                    </div>
                </div>

                <div class="tab-content card over-heigt">
                    <div class="tab-pane fade" id="step1">
                        <div class="well">
                            <div class="row setup-content" id="quotationInfos">
                                <div class="col-12">
                                    <br />
                                    <div class="row">
                                        <div class="col-6">
                                            <div class="d-flex">
                                                <input type="hidden" id="idQuotation" />
                                                <label class="col-5">Nom du devis :</label> <input readonly="readonly" id="quotationName" name="quotationName" class="col-7 form-control" type="text" />
                                            </div>
                                            <br />
                                            <div class="d-flex">
                                                <label class="col-5">Commercial* :</label> <input id="quotationCommercial" name="quotationCommercial" class="col-7 form-control" type="search" required />
                                            </div>
                                            <br />

                                        </div>

                                        <div class="col-6">
                                            <div class="d-flex">
                                                <label class="col-5">Ref. devis* :</label> <input id="quotationReference" name="quotationReference" class="col-7 form-control" type="text" required />
                                            </div>
                                            <br />
                                            <div class="d-flex">
                                                <label class="col-5">Date* :</label> <input id="quotationDate" name="quotationDate" class="col-7 form-control" type="date" required />
                                            </div>
                                            <br />

                                        </div>
                                    </div>

                                    <hr />
                                    <br />

                                    <div class="row">
                                        <div class="col-6">
                                            <div class="d-flex">
                                                <label class="col-5">Gamme* :</label>
                                                <select class="form-control col-7" id="quotationCollection" name="quotationCollection" required>
                                                    <option id="0">Choix gamme</option>
                                                </select>
                                            </div>
                                            <br />

                                            <div class="d-flex">
                                                <label class="col-5">Remplissage* :</label>
                                                <select disabled class="form-control col-7" id="quotationFillType" name="quotationFillType" required>
                                                    <option value="0">Choix remplissage</option>
                                                    <option value="1">Sans</option>
                                                    <option value="2">Panneau à Ossature</option>
                                                    <option value="3">Poteaux-Poutre</option>
                                                </select>
                                            </div>
                                            <br />
                                            <div class="d-flex">
                                                <label class="col-5">Remise* :</label>
                                                <input type="number" id="quotationDiscount" name="quotationDiscount" class="col-6 form-control" required value="0"/>
                                                <div class="col-1">%</div>
                                            </div>
                                            <br />
                                        </div>

                                        <div class="col-6">
                                            <div class="d-flex">
                                                <label class="col-5">Finition ext* :</label>
                                                <select disabled class="form-control col-7" id="quotationFinishOut" name="quotationFinishOut" required>
                                                    <option value="0">Choix finition extérieur</option>
                                                    <option value="1">Sans</option>
                                                    <option value="2">Bois</option>
                                                    <option value="3">Crépis</option>
                                                </select>
                                            </div>
                                            <br />
                                            <div class="d-flex">
                                                <label class="col-5">Finition int* :</label>

                                                <select disabled class="form-control col-7" id="quotationFinishIn" name="quotationFinishIn" required>
                                                    <option value="0">Choix finition intétieur</option>
                                                    <option value="1">Sans</option>
                                                    <option value="2">Panneau platre</option>
                                                    <option value="3">Bois</option>
                                                </select>
                                            </div>
                                            <br />
                                            <!--<div class="d-flex">
                                <label class="col-5">Coupe* :</label>
                                <select class="form-control col-7" id="quotationCut" name="quotationCut" required>
                                    <option value="null" selected>Choix coupe de principe</option>
                                    <option value="A-A">A-A</option>
                                    <option value="B-B">B-B</option>
                                    <option value="C-C">C-C</option>
                                </select>
                            </div>
                            <br />-->
                                        </div>
                                    </div>
                                    <br />
                                    <div class="text-muted">Les champs suivi d'un * sont obligatoires</div>
                                    <br />
                                    <div class="well text-right">
                                        <button id="activate-collection" class="btn btn-success btn-lg next">Suivant</button>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="tab-pane fade" id="step2">
                        <input type="hidden" id="hiddenId">
                        <div class="well">
                            <div class="well text-right">
                                <button class="btn btn-success rounded-circle" style="width:40px; height:40px; margin-bottom:5px; color:white" id="add-item-collection"><div class="font-weight-bold">+</div></button>
                            </div>

                            <table id="table-collection" class="table table-bordered">
                                <thead>
                                    <tr>
                                        <!--<th>Parent</th>-->
                                        <th>Module</th>
                                        <th>Gamme</th>
                                        <th>Nom</th>
                                        <th>Dimensions</th>
                                        <th>Angle</th>
                                        <th>Quantité</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>

                            </table>

                        </div>


                        <div class="well text-right">
                            <button id="activate-collection" class="btn btn-success btn-lg next">Suivant</button>
                        </div>

                    </div>

                    <div class="tab-pane fade" id="step3">
                        <div class="well p-5">

                            <div id="previewQuotation" style="margin-left:100px; margin-right:100px">
                                <div class="row">
                                   <!-- <div class="col-6 text-left font-weight-bold">Madera</div>-->
                                    <div>
                                        <img class="col-6 " crossorigin="anonymous" style="float:left; width:650px; height:auto" src="images/logo.png" alt="Logo madera">
                                    </div>
                                    
                                    <div class="col-6 text-right font-weight-bolder" style="font-size:30px">DEVIS</div>
                                </div>

                                <div class="pt-3">
                                    <ul class="list-unstyled">
                                        <li>Rue Enzo Ferrari</li>
                                        <li>85000 La Roche sur Yon</li>
                                        <li>02 51 98 18 32</li>
                                        <li>madera-construction.fr</li>
                                    </ul>
                                </div>

                                <div class="row">
                                    <div class="col-6">
                                        <ul class="list-unstyled">
                                            <li class="row">
                                                <div class="col-4">Référence</div>
                                                <div id="refQuotationToInsert" class="col-8">: </div>
                                            </li>
                                            <li class="row">
                                                <div class="col-4">Date</div>
                                                <div id="dateQuotationToInsert" class="col-8">: </div>
                                            </li>
                                            <!--<li class="row">
                                <div class="col-4">N° Client</div>
                                <div id="clientToInsert" class="col-8 wip">: </div>
                            </li>-->
                                        </ul>
                                    </div>
                                    <div class="col-6">
                                        <ul class="list-unstyled">
                                            <li><div id="customerNameToInsert"></div></li>
                                            <li><div id="customerAddressToInsert"></div></li>
                                            <li><div id="customerPostalToInsert"></div></li>
                                        </ul>
                                    </div>
                                </div>

                                <label>Composant du projet</label>
                                <table id="quotationModules" class="table table-bordered table-striped">
                                    <thead>
                                        <tr>
                                            <th>Quantité</th>
                                            <th>Désignation</th>
                                            <th>Prix unitaire HT/TTC</th>
                                            <th>Prix Total HT/TTC</th>
                                        </tr>
                                    </thead>
                                    <tbody id="quotationModulesBody"></tbody>
                                </table>

                                <div class="row">
                                    <div class="col-8"></div>
                                    <div class="col-4">
                                        <table class="table table-bordered">
                                            <tr>
                                                <td>Total HT</td>
                                                <td id="totalHT"></td>
                                            </tr>
                                            <tr>
                                                <td>TVA à 20%</td>
                                                <td id="tva20"></td>
                                            </tr>
                                            <tr>
                                                <td>Total TTC</td>
                                                <td id="totalTTC"></td>
                                            </tr>
                                        </table>

                                    </div>
                                </div>

                                <p>
                                    Nous restons à votre disposition pour toute information complémentaire. <br /> Cordialement.
                                </p>
                                <p>
                                    Si ce devis vous convient, veuillez nous le retourner signé précédé de la mention "Bon pour accord et éxecution du devis"
                                    <div class="row">
                                        <div class="col-6">Date :</div>
                                        <div class="col-6">Signature :</div>
                                    </div>
                                </p>
                                <p class="text-muted">
                                    Validité du devis : 3 mois <br />
                                    Conditions de règlement : 40% à la commande, solde à la livraison
                                    <div class="text-secondary">
                                        Toute somme non payés à sa date d'exigilibilité produira de plein droit des interêt de retard équivalent au triple du taux d'interet légal de l'année en cours ainsi que les paiements d'une somme de 40€ due au tire des frais de recouvrement
                                    </div>
                                </p>
                                <p class="text-secondary text-center wip">
                                    N° SIRET ............... <br />
                                    Code APE ..............
                                </p>
                            </div>

                            <div class="row">
                                <div class="well text-left col-6">
                                    <button id="btnTechnical" class="btn btn-success btn-lg next">Voir le dossier technique</button>
                                </div>
                                <div class="well text-right col-6">
                                    <button id="btnSaveQuotation" class="btn btn-success btn-lg next">Enregistrer le devis</button>
                                </div>
                            </div>

                        </div>

                    </div>



                    <div class="tab-pane fade" id="step4">

                        <div id="tree">
                            <object style="width:100%;height:70vh" type="text/html" data="tree.html"></object>
                        </div>

                    </div>
                </div>

            </div>

        </div>
    </div>
</body>
</html>